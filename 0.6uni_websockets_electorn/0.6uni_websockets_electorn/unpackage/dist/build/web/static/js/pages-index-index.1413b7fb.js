(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{4206:function(e,n,o){"use strict";o.r(n);var t=o("e30e"),c=o.n(t);for(var s in t)["default"].indexOf(s)<0&&function(e){o.d(n,e,(function(){return t[e]}))}(s);n["default"]=c.a},"594c":function(e,n,o){"use strict";o.d(n,"b",(function(){return t})),o.d(n,"c",(function(){return c})),o.d(n,"a",(function(){}));var t=function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("v-uni-view",[o("v-uni-button",{on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.connectWebSocket.apply(void 0,arguments)}}},[e._v("连接 WebSocket")]),e.isConnected?o("v-uni-view",[e._v("连接状态: 已连接")]):o("v-uni-view",[e._v("连接状态: 未连接")]),e.errorMessage?o("v-uni-view",[e._v(e._s(e.errorMessage))]):e._e(),o("v-uni-button",{on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.send.apply(void 0,arguments)}}},[e._v("click")])],1)},c=[]},"5b64":function(e,n,o){"use strict";o.r(n);var t=o("594c"),c=o("4206");for(var s in c)["default"].indexOf(s)<0&&function(e){o.d(n,e,(function(){return c[e]}))}(s);o("de3c");var i=o("828b"),r=Object(i["a"])(c["default"],t["b"],t["c"],!1,null,"c33ce1ce",null,!1,t["a"],void 0);n["default"]=r.exports},7686:function(e,n,o){var t=o("c86c");n=t(!1),n.push([e.i,"uni-button[data-v-c33ce1ce]{padding:10px 20px;margin-top:20px}uni-view[data-v-c33ce1ce]{margin-top:10px}",""]),e.exports=n},"9e1b":function(e,n,o){var t=o("7686");t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);var c=o("967d").default;c("39df42fd",t,!0,{sourceMap:!1,shadowMode:!1})},de3c:function(e,n,o){"use strict";var t=o("9e1b"),c=o.n(t);c.a},e30e:function(e,n,o){"use strict";o("6a54"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,o("d4b5");var t={data:function(){return{isConnected:!1,errorMessage:"",socketTask:null,msg:"start"}},onLoad:function(){this.connectWebSocket()},methods:{connectWebSocket:function(){var e=this;this.socketTask=uni.connectSocket({url:"ws://localhost:51111",success:function(e){console.log("WebSocket连接成功",e)},fail:function(n){console.error("WebSocket连接失败",n),e.errorMessage="连接失败: "+n.errMsg}}),this.socketTask.onOpen((function(n){console.log("WebSocket已打开",n),e.isConnected=!0,e.errorMessage=""})),this.socketTask.onError((function(n){console.error("WebSocket发生错误",n),e.errorMessage="发生错误: "+n.errMsg})),this.socketTask.onMessage((function(e){console.log("接收到的消息:",e.data)})),this.socketTask.onClose((function(n){console.log("WebSocket已关闭",n),e.isConnected=!1}))},send:function(){var e=this;if(this.socketTask&&this.isConnected){this.socketTask.send({data:JSON.stringify({type:"command",action:"start"}),success:function(){console.log("消息发送成功")},fail:function(n){console.error("消息发送失败",n),e.errorMessage="消息发送失败: "+n.errMsg}})}else this.errorMessage="WebSocket未连接"}}};n.default=t}}]);